<!DOCTYPE html>
<html>
<head>
    <title>Voting Results</title>
    <link rel="stylesheet" href="static/survey/results.css">
</head>
<body>
    <h2>Voting Results</h2>
    <ul>
        <li>Chocolate Chip: {% if votes["chocolatechip"] %} {{votes["chocolatechip"]}} {% else %} 0 {% endif%}</li>
        <li>Snickerdoodle: {% if votes["snickerdoodle"] %} {{votes["snickerdoodle"]}} {% else %} 0 {% endif%}</li>
        <li>Oatmeal Raisin: {% if votes["oatmealraisin"] %} {{votes["oatmealraisin"]}} {% else %} 0 {% endif%}</li>
        <li>Peanut Butter: {% if votes["peanutbutter"] %} {{votes["peanutbutter"]}} {% else %} 0 {% endif%}</li>
    </ul>

    <div id="piechart"></div>
    <a id="home" href="/home">Home</a>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Cookie', 'Votes'],
                ["Chocolate Chip", Number("{{votes['chocolatechip']}}")],
                ["Snickerdoodle", Number("{{votes['snickerdoodle']}}")],
                ["Oatmeal Raisin", Number("{{votes['oatmealraisin']}}")],
                ["Peanut Butter", Number("{{votes['peanutbutter']}}")]
            ]);
            var options = {
                legend: {
                    position: 'bottom',
                    alignment: 'center',
                    textStyle: {
                        color: 'black',
                        fontSize: 16
                    }
                },
            };
            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);
        }
    </script>
</body>
</html>
